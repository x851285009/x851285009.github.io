<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-center-atom.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="HTTP协议,读书笔记," />










<meta name="description" content="图解HTTP协议读书笔记六-HTTP首部 HTTP协议的请求和响应报文中必定包含HTTP首部，只是我们平时在使用WEB的过程中感受不到它。  1. HTTP报文首部  HTTP协议的请求和响应报文中必定包含HTTP首部。首部内容为客户端和服务器分别请求和响应提供所需要的信息。对于客户端用户来说，这些信息中的大部分内容都无须亲自查看。">
<meta name="keywords" content="HTTP协议,读书笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="图解HTTP读书笔记六">
<meta property="og:url" content="blog.fushily.cn/2018/01/25/图解HTTP读书笔记六/index.html">
<meta property="og:site_name" content="江湖夜雨十年灯">
<meta property="og:description" content="图解HTTP协议读书笔记六-HTTP首部 HTTP协议的请求和响应报文中必定包含HTTP首部，只是我们平时在使用WEB的过程中感受不到它。  1. HTTP报文首部  HTTP协议的请求和响应报文中必定包含HTTP首部。首部内容为客户端和服务器分别请求和响应提供所需要的信息。对于客户端用户来说，这些信息中的大部分内容都无须亲自查看。">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/13.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/14.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/15.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/16.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/17.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/18.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/19.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/20.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/21.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/23.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/24.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/25.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/26.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/27.png">
<meta property="og:image" content="http://op6dvs9c7.bkt.clouddn.com/28.png">
<meta property="og:updated_time" content="2018-01-26T00:40:12.733Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="图解HTTP读书笔记六">
<meta name="twitter:description" content="图解HTTP协议读书笔记六-HTTP首部 HTTP协议的请求和响应报文中必定包含HTTP首部，只是我们平时在使用WEB的过程中感受不到它。  1. HTTP报文首部  HTTP协议的请求和响应报文中必定包含HTTP首部。首部内容为客户端和服务器分别请求和响应提供所需要的信息。对于客户端用户来说，这些信息中的大部分内容都无须亲自查看。">
<meta name="twitter:image" content="http://op6dvs9c7.bkt.clouddn.com/13.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="blog.fushily.cn/2018/01/25/图解HTTP读书笔记六/"/>





  <title>图解HTTP读书笔记六 | 江湖夜雨十年灯</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  
 <div class="bg_content">
      <canvas id="canvas"></canvas>
 </div>
  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://github.com/x851285009"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/c6625ac1f3ee0a12250227cf83ce904423abf351/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">江湖夜雨十年灯</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="blog.fushily.cn/2018/01/25/图解HTTP读书笔记六/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="墨月">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/my.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="江湖夜雨十年灯">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">图解HTTP读书笔记六</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-25T15:05:50+08:00">
                2018-01-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o">本文总阅读量</i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="图解HTTP协议读书笔记六-HTTP首部"><a href="#图解HTTP协议读书笔记六-HTTP首部" class="headerlink" title="图解HTTP协议读书笔记六-HTTP首部"></a>图解HTTP协议读书笔记六-HTTP首部</h1><blockquote>
<p>HTTP协议的请求和响应报文中必定包含HTTP首部，只是我们平时在使用WEB的过程中感受不到它。</p>
</blockquote>
<h2 id="1-HTTP报文首部"><a href="#1-HTTP报文首部" class="headerlink" title="1. HTTP报文首部"></a>1. HTTP报文首部</h2><p><img src="http://op6dvs9c7.bkt.clouddn.com/13.png" alt="报文结构"></p>
<blockquote>
<p>HTTP协议的请求和响应报文中必定包含HTTP首部。首部内容为客户端和服务器分别请求和响应提供所需要的信息。对于客户端用户来说，这些信息中的大部分内容都无须亲自查看。</p>
</blockquote>
<a id="more"></a>
<p><strong>报文首部由以下几个字段构成：</strong></p>
<ul>
<li><p>HTTP请求报文</p>
<ul>
<li>在请求中，HTTP报文由方法、URI、HTTP版本、HTTP首部字段等部分构成。<br><img src="http://op6dvs9c7.bkt.clouddn.com/14.png" alt="请求报文"></li>
</ul>
</li>
<li><p>HTTP响应报文</p>
<ul>
<li>在响应中，HTTP报文由HTTP版本、状态码（数字和原因短句）、HTTP首部字段3部分构成。<br><img src="http://op6dvs9c7.bkt.clouddn.com/15.png" alt="响应报文"></li>
</ul>
</li>
<li><p>在报文众多的字段当中，HTTP首部字段包含的信息最为丰富。</p>
</li>
<li>首部字段同时存在于请求和响应报文内，并涵盖HTTP报文相关的内容信息。</li>
<li>因HTTP版本或扩展规范的变化，首部字段可支持的字段内容略有不同。</li>
</ul>
<hr>
<h2 id="2-HTTP首部字段"><a href="#2-HTTP首部字段" class="headerlink" title="2. HTTP首部字段"></a>2. HTTP首部字段</h2><h3 id="2-1-HTTP首部字段传递重要信息"><a href="#2-1-HTTP首部字段传递重要信息" class="headerlink" title="2.1 HTTP首部字段传递重要信息"></a>2.1 HTTP首部字段传递重要信息</h3><blockquote>
<p>HTTP首部字段是构成HTTP报文的要素之一。<br>在客户端与服务器之间以HTTP协议进行通信的过程中，无论是请求还是响应都会使用首部字段，它能起到传递额外重要信息的作用。</p>
</blockquote>
<p><strong>使用首部字段是为了给浏览器和服务器提供报文主体大小，所使用的语言、认证信息等内容。</strong><br><strong>注:首部字段内可使用的附加信息较多。</strong></p>
<h3 id="2-2-HTTP首部字段结构"><a href="#2-2-HTTP首部字段结构" class="headerlink" title="2.2 HTTP首部字段结构"></a>2.2 HTTP首部字段结构</h3><blockquote>
<p>HTTP首部字段是由首部字段和字段值构成的，中间用冒号“：”分隔。<br>首都字段名：字段值<br>例如<br>Content-Type : text/html</p>
</blockquote>
<ul>
<li>就以上述示例来看，首部字段名为Content-Type,字符串text/html是字段值。</li>
<li>另外，字段值对应单个HTTP首部字段可以有多个值，如下：<ul>
<li>Keep-Alive : timeout = 15 ,max = 100</li>
</ul>
</li>
</ul>
<p><strong>注：若HTTP首部字段重复了会如何</strong></p>
<blockquote>
<p>当HTTP报文首部中出现了两个或两个以上具有相同首部字段名时会怎么样？<br>这种情况在规范内尚未明确，根据浏览器内部处理逻辑的不同，结果可能并不一致。<br>有些浏览器会优先处理第一次出现的首部字段，而有些则会优先处理最后出现的首部字段。</p>
</blockquote>
<h3 id="2-3-4种HTTP首部字段类型"><a href="#2-3-4种HTTP首部字段类型" class="headerlink" title="2.3 4种HTTP首部字段类型"></a>2.3 4种HTTP首部字段类型</h3><p><strong>HTTP首部字段根据实际用途被分为以下4种类型:</strong></p>
<ul>
<li>通用首部字段<ul>
<li>请求报文和响应报文双方都会使用的首部。</li>
</ul>
</li>
<li>请求首部字段<ul>
<li>从客户端向服务器发送请求报文时使用的首部。补充了请求的附加内容、客户端信息、响应内容相关优先级等信息。</li>
</ul>
</li>
<li>响应首部字段<ul>
<li>从服务器端向客户端返回响应报文时使用的首部。补充了响应的附加内容，也会要求客户端附加额外的内容信息。</li>
</ul>
</li>
<li>实体首部字段<ul>
<li>针对请求报文和响应报文的实体部分使用的首部。补充了资源内容更新时间等与实体有关的信息。</li>
</ul>
</li>
</ul>
<h3 id="2-4-HTTP-1-1首部字段一览"><a href="#2-4-HTTP-1-1首部字段一览" class="headerlink" title="2.4 HTTP/1.1首部字段一览"></a>2.4 HTTP/1.1首部字段一览</h3><p><strong>HTTP/1.1规范定义了如下47种首部字段。</strong></p>
<ul>
<li>通用首部字段<br><img src="http://op6dvs9c7.bkt.clouddn.com/16.png" alt="通用首部字段"></li>
<li>请求首部字段<br><img src="http://op6dvs9c7.bkt.clouddn.com/17.png" alt="请求首部字段"></li>
<li>响应首部字段<br><img src="http://op6dvs9c7.bkt.clouddn.com/18.png" alt="响应首部字段"></li>
<li>实体首部字段<br><img src="http://op6dvs9c7.bkt.clouddn.com/19.png" alt="实体首部字段"></li>
</ul>
<h3 id="2-5-非HTTP-1-1-首部字段"><a href="#2-5-非HTTP-1-1-首部字段" class="headerlink" title="2.5 非HTTP/1.1 首部字段"></a>2.5 非HTTP/1.1 首部字段</h3><blockquote>
<p>在HTTP协议通信交互中使用到的首部字段，不限于这47中首部字段。<br>还有Cookie、Set-Cookie和Content-Disposition等在其他RFC中定义的首部字段，它们的使用频率也很高。<br>这些非正式的首部字段统一归纳在RFC4229HTTP Header Field Registrations中。</p>
</blockquote>
<h3 id="2-6-End-to-end-首部和Hop-by-hop-首部"><a href="#2-6-End-to-end-首部和Hop-by-hop-首部" class="headerlink" title="2.6 End-to-end 首部和Hop-by-hop 首部"></a>2.6 End-to-end 首部和Hop-by-hop 首部</h3><blockquote>
<p>HTTP首部字段将定义成缓存代理和非缓存代理的行为，分成2种类型。</p>
</blockquote>
<ul>
<li>端到端首部（End-to-end Header）<ul>
<li>分在此类别中的首部会转发给请求/响应对应的最终接受目标，且必须保存在由缓存生成的响应中，另外规定它必须被转发。</li>
</ul>
</li>
<li>逐跳首部（Hop-by-hop Header）<ul>
<li>分在此类别中的首部只对单次转发有效,会因通过缓存或代理而不再转发。HTTP/1.1和之后版本中，如果要使用hop-by-hop 首部，需要提供Connection首部字段。</li>
</ul>
</li>
</ul>
<p><strong>下列举了HTTP/1.1中的逐跳首部字段。除这8个首部字段之外，其他所有字段都属于端到端首部。</strong></p>
<ul>
<li>Connection</li>
<li>Keep-Alive</li>
<li>Proxy-Authenticate</li>
<li>Proxy-Authorization</li>
<li>Trailer</li>
<li>TE</li>
<li>Transfer-Encoding</li>
<li>Upgrade</li>
</ul>
<hr>
<h2 id="3-HTTP-1-1通用首部字段"><a href="#3-HTTP-1-1通用首部字段" class="headerlink" title="3. HTTP/1.1通用首部字段"></a>3. HTTP/1.1通用首部字段</h2><blockquote>
<p>通用首部字段是指，请求报文和响应报文双方都会使用的首部。</p>
</blockquote>
<h3 id="3-1-Cache-Control"><a href="#3-1-Cache-Control" class="headerlink" title="3.1 Cache-Control"></a>3.1 Cache-Control</h3><blockquote>
<p>通过指定首部字段Cache-Control的指令，就能操作缓存的工作机制。</p>
</blockquote>
<ul>
<li>指令的参数是可选的，多个指令之间通过“，”分隔。</li>
<li>首部字段Cache-Control的指令可用于请求及响应时。</li>
<li>Cache-Control指令一览：<br><img src="http://op6dvs9c7.bkt.clouddn.com/20.png" alt="Cache-Control"><br><img src="http://op6dvs9c7.bkt.clouddn.com/21.png" alt="Cache-Control"></li>
</ul>
<h3 id="3-2-Connection"><a href="#3-2-Connection" class="headerlink" title="3.2 Connection"></a>3.2 Connection</h3><blockquote>
<p>Connection首部字段具备如下两个作用。<br>1.控制不再转发给代理的首部字段<br>2.管理持久连接</p>
</blockquote>
<h3 id="3-3-Date"><a href="#3-3-Date" class="headerlink" title="3.3 Date"></a>3.3 Date</h3><blockquote>
<p>首部字段Date表明创建HTTP报文的日期和时间</p>
</blockquote>
<h3 id="3-4-Pragma"><a href="#3-4-Pragma" class="headerlink" title="3.4 Pragma"></a>3.4 Pragma</h3><blockquote>
<p>Pragma是HTTP/1.1之前版本的历史遗留字段，仅作为与HTTP/1.0的向后兼容而定义。</p>
</blockquote>
<p><strong>示例：</strong><br><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Pragma</span>:  no-cache</div></pre></td></tr></table></figure></p>
<blockquote>
<p>该首部字段属于通用首部字段，但只用在客户端发送的请求中。客户端会要求所有的中间服务器不返回缓存的资源。</p>
</blockquote>
<p><strong>最佳规范：</strong></p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Cache-Control</span>: no-cachePragma:no-cache</div></pre></td></tr></table></figure>
<h3 id="3-5-Trailer"><a href="#3-5-Trailer" class="headerlink" title="3.5 Trailer"></a>3.5 Trailer</h3><blockquote>
<p>首部字段Trailer会事先说明在报文主体后记录了哪些首部字段。该首部字段可应用在HTTP/1.1版本分段传输编码时。</p>
</blockquote>
<h3 id="3-6-Transfer-Encoding"><a href="#3-6-Transfer-Encoding" class="headerlink" title="3.6 Transfer-Encoding"></a>3.6 Transfer-Encoding</h3><blockquote>
<p>首部字段Transfer-Encoding规定了传输报文主体时采用的编码方式。<br>HTTP/1.1的传输编码方式仅对分块传输编码有效。</p>
</blockquote>
<h3 id="3-7-Upgrade"><a href="#3-7-Upgrade" class="headerlink" title="3.7 Upgrade"></a>3.7 Upgrade</h3><blockquote>
<p>首部字段Upgrade用于检测HTTP协议及其他协议是否可使用更高的版本进行通信，其参数可以用来指定一个完全不同的通信协议。</p>
</blockquote>
<h3 id="3-8-Via"><a href="#3-8-Via" class="headerlink" title="3.8 Via"></a>3.8 Via</h3><blockquote>
<p>使用首部字段Via是为了追踪客户端与服务器之间的请求和响应报文的传输路径。</p>
</blockquote>
<ul>
<li>报文经过代理或网关时，会先在首部字段Via中附加该服务器的信息，然后再进行转发。</li>
<li>这个做法和traceroute及电子邮件的Received首部的工作机制很类似。</li>
</ul>
<blockquote>
<p>首部字段Via不仅用于追踪报文的转发，还可避免请求回环的发生。所以必须在经过代理时附加该首部字段内容。</p>
</blockquote>
<h3 id="3-9-Warning"><a href="#3-9-Warning" class="headerlink" title="3.9 Warning"></a>3.9 Warning</h3><blockquote>
<p>HTTP/1.1 的 Warning首部是从HTTP/1.0的响应首部演变过来的。该首部通常会告知用户一些与缓存相关的问题的警告。</p>
</blockquote>
<p><strong>Warning首部的格式如下。最后的日期时间部分可省略。</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Warning:[警告码][警告的主机：端口号] "[警告内容]"（[日期时间]）</div></pre></td></tr></table></figure></p>
<p><img src="http://op6dvs9c7.bkt.clouddn.com/23.png" alt="Warning"><br><img src="http://op6dvs9c7.bkt.clouddn.com/24.png" alt="Warning"></p>
<hr>
<h2 id="4-请求首部字段"><a href="#4-请求首部字段" class="headerlink" title="4. 请求首部字段"></a>4. 请求首部字段</h2><blockquote>
<p>请求首部字段是从客户端往服务器端发送请求报文中所使用的字段，用于补充请求的附加信息、客户端信息、对响应内容相关的优先级等内容。</p>
</blockquote>
<h3 id="4-1-Accept"><a href="#4-1-Accept" class="headerlink" title="4.1 Accept"></a>4.1 Accept</h3><blockquote>
<p>Accept首部字段可通知服务器，用户代理能够处理的媒体类型及媒体类型的相对优先级。可使用type/subtype这种形式，一次指定多种媒体类型。</p>
</blockquote>
<p><img src="http://op6dvs9c7.bkt.clouddn.com/25.png" alt="Accept"></p>
<ul>
<li>若想要给显示的媒体类型增加优先级，则使用q=来额外表示权重值，用分号（；）进行分隔。</li>
<li>权重值q的范围是0~1（小数点后三位），且1位最大值。不指定权重q值时，默认权重为q=1.0。</li>
<li>当服务器提供多种内容时，将会首先返回权重值最高的媒体类型。</li>
</ul>
<h3 id="4-2-Accept-Charset"><a href="#4-2-Accept-Charset" class="headerlink" title="4.2 Accept-Charset"></a>4.2 Accept-Charset</h3><blockquote>
<p>Accept-Charset 首部字段可用来通知服务器用户代理支持的字符集及字符集的相对优先顺序。<br>另外，可一次性指定多种字符集。与首部字段Accept相同的是可用权重q值来表示相对优先级。</p>
</blockquote>
<p><strong>0该首部字段应用于内容协商机制的服务器驱动协商。</strong></p>
<h3 id="4-3-Accept-Encoding"><a href="#4-3-Accept-Encoding" class="headerlink" title="4.3 Accept-Encoding"></a>4.3 Accept-Encoding</h3><blockquote>
<p>Accept-Encoding首部字段用来告知服务器用户代理支持的内容编码及内容编码的优先级顺序。可一次性指定多种内容编码。</p>
</blockquote>
<p><img src="http://op6dvs9c7.bkt.clouddn.com/26.png" alt="Accept-Encoding"></p>
<ul>
<li>采用权重q值来表示相对优先级，这点与首部字段Accept相同。</li>
<li>另外，也可使用星号（*）作为通配符，指定任意的编码格式。</li>
</ul>
<h3 id="4-4-Accept-Language"><a href="#4-4-Accept-Language" class="headerlink" title="4.4 Accept-Language"></a>4.4 Accept-Language</h3><blockquote>
<p>首部字段Accept-Language用来告知服务器用户代理能够处理的自然语言集（指中文或英文等），以及自然语言集的相对优先级。可一次指定多种自然语言集。</p>
</blockquote>
<p><strong>和Accept首部字段一样，按权重值q来表示相对优先级。</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Accept-Language：zh-cn,zh;q=0.7,en-us,en;q=0.3</div></pre></td></tr></table></figure>
<h3 id="4-5-Authorization"><a href="#4-5-Authorization" class="headerlink" title="4.5 Authorization"></a>4.5 Authorization</h3><blockquote>
<p>首部字段Authorization使用来告知服务器，用户代理的认证信息（证书值）。<br>通常，想要通过服务器认证的用户代理会在接收到返回的401状态码响应后，把首部字段Authorization加入请求中。<br>公用缓存在接收到含有Authorization首部字段的请求时的操作处理会略有不同。</p>
</blockquote>
<h3 id="4-6-Expect"><a href="#4-6-Expect" class="headerlink" title="4.6 Expect"></a>4.6 Expect</h3><blockquote>
<p>客户端使用首部字段Expect来告知服务器，期望出现的某种特定行为。因服务器无法理解客户端的期望作出回应而发生错误时，会返回状态码417。</p>
</blockquote>
<ul>
<li>客户端可以利用该首部字段，写明所期望的扩展。虽然HTTP/1.1规范只定义了100。</li>
<li>等待状态码100响应的客户端在发生请求时，需要指定Expect：100-continue。</li>
</ul>
<h3 id="4-7-From"><a href="#4-7-From" class="headerlink" title="4.7 From"></a>4.7 From</h3><blockquote>
<p>首部字段From用来告知服务器使用用户代理的用户的电子邮件地址。</p>
</blockquote>
<h3 id="4-8-Host"><a href="#4-8-Host" class="headerlink" title="4.8 Host"></a>4.8 Host</h3><blockquote>
<p>首部字段Host会告知服务器，请求的资源所处的互联网主机名和端口号。Host首部字段在HTTP/1.1规范内是唯一一个必须被包含在请求内的首部字段。</p>
</blockquote>
<p><strong>首部字段Host和以单台服务器分配多个域名的虚拟主机的工作机制有很密切的关联，这是首部字段Host必须存在的意义。</strong></p>
<ul>
<li>请求被发送至服务器时，请求中的主机名会用IP地址直接替换解决。</li>
<li>但如果这时，相同的IP地址下部署运行着多个域名，那么服务器就会无法理解究竟是哪个域名对应的请求</li>
<li>因此，就需要使用首部字段Host来明确指出请求的主机名，若服务器未设定主机名，那直接发送一个空值即可。</li>
</ul>
<h3 id="4-9-IF-XXX"><a href="#4-9-IF-XXX" class="headerlink" title="4.9 IF-XXX"></a>4.9 IF-XXX</h3><blockquote>
<p>形如IF-XXX这种样式的请求首部字段，都可称为条件请求。服务器接收到附带条件的请求后，只有判断指定条件为真时，才会执行请求。</p>
</blockquote>
<h3 id="4-10-Max-Forwards"><a href="#4-10-Max-Forwards" class="headerlink" title="4.10 Max-Forwards"></a>4.10 Max-Forwards</h3><blockquote>
<p>通过TRACE方法或OPTIONS方法，发送包含首部字段Max-Forwards的请求时，该字段以十进制整数形式指定可经过的服务器最大数目。服务器在往下一个服务器转发请求之前，Max-Forwards的值减1后重新赋值。当服务器接收到Max-Forwards值为0的请求时，则不再进行转发，而是直接返回响应。</p>
</blockquote>
<ul>
<li>使用HTTP协议通信，请求可能会经过代理等多台服务器。</li>
<li>途中，如果代理服务器由于某些原因导致请求转发失败，客户端也就等不到服务器返回的响应了。</li>
<li>对此，我们无从可知。</li>
</ul>
<blockquote>
<p>可以灵活使用首部字段Max-Forwards，针对以上问题产生的原因展开调查。<br>由于当Max-Forwards字段值为0时，服务器就会立即返回响应，由此我们至少可以对以那台服务器为终点的传输路径的通信状态有所把握。</p>
</blockquote>
<h3 id="4-11-Proxy-Authorzation"><a href="#4-11-Proxy-Authorzation" class="headerlink" title="4.11 Proxy-Authorzation"></a>4.11 Proxy-Authorzation</h3><blockquote>
<p>接收到从代理服务器发来的认证质询时，客户端会发送包含首部字段Proxy-Authorzation的请求，以告知服务器认证所需要的信息。</p>
</blockquote>
<ul>
<li>这个行为是与客户端和服务器之间的HTTP访问认证相类似的。</li>
<li>不同之处在于，认证行为发生在客户端与代理之间。</li>
<li>客户端与服务器之间的认证，使用首部字段Authorzation可起到相同作用。</li>
</ul>
<h3 id="4-12-Range"><a href="#4-12-Range" class="headerlink" title="4.12 Range"></a>4.12 Range</h3><blockquote>
<p>对于只需要获取部分资源的范围请求，包含首部字段Range即可告知服务器资源的指定范围。</p>
</blockquote>
<ul>
<li>接收到附带Range首部字段请求的服务器，会在处理请求之后返回状态码为206的响应。</li>
<li>无法处理该范围请求时，则会返回状态码200OK的响应及全部资源。</li>
</ul>
<h3 id="4-13-Referer"><a href="#4-13-Referer" class="headerlink" title="4.13 Referer"></a>4.13 Referer</h3><blockquote>
<p>首部字段 Referer会告知服务器请求的原始资源的URI。</p>
</blockquote>
<ul>
<li>客户端一般都会发送Referer首部字段给服务器。</li>
<li>但当直接在浏览器的地址栏输入URO，或出于安全性的考虑时，也可以不发送该首部字段。</li>
<li>因为原始资源的URI中的查询字符串可能含有ID和密码等保密信息，要是写进Referer转发给其他服务器，则有可能导致保密信息的泄露。</li>
</ul>
<blockquote>
<p>注：Referer的正确的拼写应该是Referrer,不知为何这个错误一直沿用至今。</p>
</blockquote>
<h3 id="4-14-TE"><a href="#4-14-TE" class="headerlink" title="4.14 TE"></a>4.14 TE</h3><blockquote>
<p>首部字段TE会告知服务器客户端能够处理响应的传输编码方式及相对优先级。它和首部字段Accept-Encoding的功能很相像，但是用于传输编码。<br>首部字段TE除指定传输编码之外，还可以指定伴随trailer字段的分块传输编码的方式。应用后者时，只需把trailers赋值给该字段值。</p>
</blockquote>
<h3 id="4-15-User-Agent"><a href="#4-15-User-Agent" class="headerlink" title="4.15 User-Agent"></a>4.15 User-Agent</h3><blockquote>
<p>首部字段User-Agent会创建请求的浏览器和用户代理名称等信息传达给服务器。</p>
</blockquote>
<ul>
<li>由网络爬虫发起请求时，有可能会在字段内添加爬虫作者的电子邮箱地址。</li>
<li>此外，如果请求经过代理，那么中间也很可能被添加上代理服务器的名称。</li>
</ul>
<hr>
<h2 id="5-响应首部字段"><a href="#5-响应首部字段" class="headerlink" title="5. 响应首部字段"></a>5. 响应首部字段</h2><blockquote>
<p>响应首部字段是由服务器端向客户端返回响应报文中所使用的字段，用于补充响应的附加信息、服务器信息，以及对客户端的附加要求等信息。</p>
</blockquote>
<h3 id="5-1-Accept-Ranges"><a href="#5-1-Accept-Ranges" class="headerlink" title="5.1  Accept-Ranges"></a>5.1  Accept-Ranges</h3><blockquote>
<p>首部字段Accept-Ranges是用来告知客户端服务器是否能处理范围请求，以指定获取服务器端某个部分的资源。</p>
</blockquote>
<p><strong>可指定的字段值有两种</strong></p>
<ul>
<li>可处理范围请求时指定其为bytes</li>
<li>反之则指定其为none</li>
</ul>
<h3 id="5-2-Age"><a href="#5-2-Age" class="headerlink" title="5.2 Age"></a>5.2 Age</h3><blockquote>
<p>首部字段Age能告知客户端，源服务器在多久前创建了响应。字段值得单位为秒。</p>
</blockquote>
<ul>
<li>若创建该响应的服务器是缓存服务器，Age值是指缓存后的响应再次发起认证到认证完成的时间值。</li>
<li>代理创建响应时必须加上首都字段Age。</li>
</ul>
<h3 id="5-3-ETag"><a href="#5-3-ETag" class="headerlink" title="5.3 ETag"></a>5.3 ETag</h3><blockquote>
<p>首部字段ETag能告知客户端实体标识。它是一种可将资源以字符串形式做唯一性标识的方式。服务器会为每份资源分配对应的ETag值。<br>另外，当资源更新时，ETag值也需要更新。生成ETag值时，并没有统一的算法规则，而仅仅是由服务器来分配。</p>
<p>资源被缓存时，就会被分配唯一性标识。例如，当使用中文版的浏览器访问<a href="http://www.google.com/时，就会返回中文版对应的资源，而使用英文版的浏览器访问时，则会返回英文版对应的资源。两者的URI是相同的，所以仅凭URI指定缓存的资源是相当困难的。若在下载过程中出现连接中断、再连接的情况，都会依照ETag值来指定资源。" target="_blank" rel="external">http://www.google.com/时，就会返回中文版对应的资源，而使用英文版的浏览器访问时，则会返回英文版对应的资源。两者的URI是相同的，所以仅凭URI指定缓存的资源是相当困难的。若在下载过程中出现连接中断、再连接的情况，都会依照ETag值来指定资源。</a></p>
</blockquote>
<p><strong>强ETag值和弱ETag值</strong></p>
<ul>
<li>强ETag值<ul>
<li>强ETag值，不论实体发生多么细微的变化都会改变其值。</li>
</ul>
</li>
<li>弱ETag值<ul>
<li>弱ETag值只用于提示资源是否相同。只有资源发生了根本改变，产生差异时才会改变ETag值。这时，会在字段值最开始处附加W/</li>
</ul>
</li>
</ul>
<h3 id="5-4-Location"><a href="#5-4-Location" class="headerlink" title="5.4 Location"></a>5.4 Location</h3><blockquote>
<p>使用首部字段Location可以将相应接收方引导至某个与请求URI位置不同的资源。</p>
</blockquote>
<ul>
<li>基本上，该字段会配合3XX：Redirection的响应，提供重定向的URI。</li>
<li>几乎所有的浏览器在接收到包含首部字段Location的响应后，都会强制性地尝试对提示的重定向资源的访问。</li>
</ul>
<h3 id="5-5-Proxy-Authenticate"><a href="#5-5-Proxy-Authenticate" class="headerlink" title="5.5 Proxy-Authenticate"></a>5.5 Proxy-Authenticate</h3><blockquote>
<p>首部字段Proxy-Authenticate 会把代理服务器所要求的认证信息发送给客户端。</p>
</blockquote>
<ul>
<li>它与客户端和服务器之间的HTTP访问认证的行为相似</li>
<li>不同之处在于其认证行为是在客户端与代理之间进行的</li>
<li>而客户端与服务器之间进行认证时，首部字段WWW-Authenticate 有着相同的作用。</li>
</ul>
<h3 id="5-6-Retry-After"><a href="#5-6-Retry-After" class="headerlink" title="5.6 Retry-After"></a>5.6 Retry-After</h3><blockquote>
<p>首部字段Retry-After告知客户端应该在多久之后再次发送请求。</p>
</blockquote>
<ul>
<li>主要配合状态码503响应，或3XX响应一起使用。</li>
<li>字段值可以指定为具体的日期时间，也可以是创建响应后的秒数。</li>
</ul>
<h3 id="5-7-Server"><a href="#5-7-Server" class="headerlink" title="5.7 Server"></a>5.7 Server</h3><blockquote>
<p>首部字段Server告知客户端当前服务器上安装的HTTP服务器应用程序的信息。不单单会标出服务器上的软件应用名称，还有可能包括版本号和安装时启用的可选项。</p>
</blockquote>
<h3 id="5-8-Vary"><a href="#5-8-Vary" class="headerlink" title="5.8 Vary"></a>5.8 Vary</h3><blockquote>
<p>首部字段Vary可对缓存进行控制。源服务器会向代理服务器传达关于本地缓存使用方法的命令。</p>
</blockquote>
<ul>
<li>从代理服务器接收到源服务器返回包含Vary指定项的响应之后</li>
<li>若再要进行缓存，仅对请求中含有相同Vary指定首部字段的请求返回缓存</li>
<li>即使对相同资源发起请求，但由于Vary指定的首部字段不相同，因此必须要从源服务器重新获取资源。</li>
</ul>
<h3 id="5-9-WWW-Authenticate"><a href="#5-9-WWW-Authenticate" class="headerlink" title="5.9 WWW-Authenticate"></a>5.9 WWW-Authenticate</h3><blockquote>
<p>首部字段WWW-Authenticate用于HTTP访问认证。它会告知客户端适用于访问请求URI所指定资源的认证方案（Basic或是Digest）和到参数提示的质询。状态码401响应中，肯定带有首部字段WWW-Authenticate。</p>
</blockquote>
<hr>
<h2 id="6-实体首部字段"><a href="#6-实体首部字段" class="headerlink" title="6. 实体首部字段"></a>6. 实体首部字段</h2><blockquote>
<p>实体首部字段是包含在请求报文和响应报文中的实体部分所使用的首部，用于补充内容的更新时间等与实体相关的信息。</p>
</blockquote>
<h3 id="6-1-Allow"><a href="#6-1-Allow" class="headerlink" title="6.1 Allow"></a>6.1 Allow</h3><blockquote>
<p>首部字段Allow用于通知客户端能够支持Request-URI指定资源的所有HTTP方法</p>
</blockquote>
<ul>
<li>当服务器接收到不支持的HTTP方法时，会以状态码405作为响应返回</li>
<li>与此同时，还会把所有能支持的HTTP方法写入首部字段Allow后返回</li>
</ul>
<h3 id="6-2-Content-Encoding"><a href="#6-2-Content-Encoding" class="headerlink" title="6.2 Content-Encoding"></a>6.2 Content-Encoding</h3><blockquote>
<p>首部字段Content-Encoding会告知客户端服务器对实体的主体部分选用的内容编码方式。<br>内容编码是指在不丢失实体信息的前提下所进行的压缩。</p>
</blockquote>
<p><strong>主要采用以下4中内容编码的方式：</strong></p>
<ul>
<li>gzip </li>
<li>compress </li>
<li>deflate </li>
<li>identity</li>
</ul>
<h3 id="6-3-Content-Language"><a href="#6-3-Content-Language" class="headerlink" title="6.3 Content-Language"></a>6.3 Content-Language</h3><blockquote>
<p>首部字段Content-Language会告知客户端，实体主体使用的自然语言。（指中文或英文等语言）</p>
</blockquote>
<h3 id="6-4-Content-Length"><a href="#6-4-Content-Length" class="headerlink" title="6.4 Content-Length"></a>6.4 Content-Length</h3><blockquote>
<p>首部字段Content-Length表明了实体主体部分的大小（单位是字节）。<br>对实体主体进行内容编码传输时，不能再使用Content-Length首部字段。</p>
</blockquote>
<h3 id="6-5-Content-Location"><a href="#6-5-Content-Location" class="headerlink" title="6.5 Content-Location"></a>6.5 Content-Location</h3><blockquote>
<p>首部字段Content-Location给出与报文主体部分相对应的URI。<br>和首部字段Location不同，Content-Location表示的事报文主体返回资源对应的URI。</p>
</blockquote>
<h3 id="6-6-Content-MD5"><a href="#6-6-Content-MD5" class="headerlink" title="6.6 Content-MD5"></a>6.6 Content-MD5</h3><blockquote>
<p>首部字段Content-MD5是一串由MD5算法生成的值，其目的在于检查报文主体在传输过程中是否保持完整，以及确认传输到达。</p>
</blockquote>
<ul>
<li>对报文主体执行MD5算法获取的128位二进制数，再通过Base64编码后将结果写入Content-MD5字段值。</li>
<li>由于HTTP首部无法记录二进制值，所以要通过Base64编码处理。</li>
<li>为确保报文的有效性，作为接受方的客户端会对报文主体再次执行一次相同的MD5算法。</li>
<li>计算出的值与字段值作比较后，即可判断出报文主体的准确性。</li>
</ul>
<blockquote>
<p>采用这种方法，对内容上的偶发性改变是无从查证的，也无法检测出恶意篡改。<br>其中一个原因在于，内容如果能够被篡改，那么同时意味着Content-MD5也可从新计算后被篡改。<br>所以处在接收阶段的客户端是无法意识到报文主体以及首部字段Content-MD5是已经被篡改过的。</p>
</blockquote>
<h3 id="6-7-Content-Range"><a href="#6-7-Content-Range" class="headerlink" title="6.7 Content-Range"></a>6.7 Content-Range</h3><blockquote>
<p>针对范围请求，返回响应时使用的首部字段Content-Range，能告知客户端作为响应返回的实体的哪个部分符合范围请求。字段值以字节为单位，表示当前发送部分及整个实体大小。</p>
</blockquote>
<h3 id="6-8-Content-Type"><a href="#6-8-Content-Type" class="headerlink" title="6.8 Content-Type"></a>6.8 Content-Type</h3><blockquote>
<p>首部字段Content-Type说明了实体主体内对象的媒体类型。</p>
</blockquote>
<ul>
<li>和首部字段Accepty一样，字段值用type/subtype 形式赋值。</li>
<li>参数charset使用iso-8859-1或euc-jp等字符集进行赋值。</li>
</ul>
<h3 id="6-9-Expires"><a href="#6-9-Expires" class="headerlink" title="6.9 Expires"></a>6.9 Expires</h3><blockquote>
<p>首部字段Expires会将资源失效的日期告知客户端。</p>
</blockquote>
<ul>
<li>缓存服务器在接收到含有首部字段Expires的响应后，会以缓存来应答请求</li>
<li>在Expires字段值指定的时间之前，响应的副本会一直被保存</li>
<li>当超过指定的时间后，缓存服务器在请求发送过来时，会转向源服务器请求资源。</li>
</ul>
<blockquote>
<p>源服务器不希望缓存服务器对资源缓存时，最好在Expires字段内写入与首部字段Date相同的时间值。<br>但是，当首部字段Cache-Control有指定max-age指令时，比起首部字段Expires，会优先处理max-age指令</p>
</blockquote>
<h3 id="6-10-Last-Modified"><a href="#6-10-Last-Modified" class="headerlink" title="6.10 Last-Modified"></a>6.10 Last-Modified</h3><blockquote>
<p>首部字段 Last-Modified指明资源最终修改的时间。</p>
</blockquote>
<ul>
<li>一般来说，这个值就是Request-URI指定资源被修改的时间。</li>
<li>但类似使用CGI脚本进行动态数据处理时，该值有可能会变成数据最终修改时的时间。</li>
</ul>
<hr>
<h2 id="7-为Cookie服务的首部字段"><a href="#7-为Cookie服务的首部字段" class="headerlink" title="7. 为Cookie服务的首部字段"></a>7. 为Cookie服务的首部字段</h2><blockquote>
<p>管理服务器与客户端之间状态的Cookie<br>虽然没有被编入彼岸准话HTTP/1.1的RFC2616中，但在Web网站方面得到了广泛的应用。<br>Cookie的工作机制是用户识别及状态管理。<br>web网站为了管理用户的状态会通过Web浏览器，把一些数据临时写入用户的计算机内。接着当用户访问该Web网站时，可通过通信方式取回之前发放的Cookie。<br>调用Cookie时，由于可校验Cookie的有效期，以及发送方的域、路径、协议等信息，所以正规发布的Cookie内的数据不会因来自其他Web站点和攻击者的攻击而泄露。</p>
</blockquote>
<p>至2013年5月，Cookie的规格标准文档有以下4种。</p>
<p><img src="http://op6dvs9c7.bkt.clouddn.com/27.png" alt="Cookie"></p>
<h3 id="7-1-Set-Cookie"><a href="#7-1-Set-Cookie" class="headerlink" title="7.1 Set-Cookie"></a>7.1 Set-Cookie</h3><blockquote>
<p>当服务器准备开始管理客户端的状态时，会事先告知各种信息。</p>
</blockquote>
<p>下面的表格列举了Set-Cookie的字段值。</p>
<p><img src="http://op6dvs9c7.bkt.clouddn.com/28.png" alt="Set-Cookie"></p>
<ul>
<li><p>expires属性</p>
<ul>
<li>Cookie的expires属性指定浏览器可发送Cookie的有效期。<blockquote>
<p>当省略expires属性时，其有效期仅限于维持浏览器会话（Session）时间段内。这通常限于浏览器应用程序被关闭之前。<br>另外，一旦Cookie从服务器发送至客户端，服务区端就不存在可以显式删除Cookie的方法。但可通过覆盖已过期的Cookie，实现对客户端Cookie的实质性删除操作。</p>
</blockquote>
</li>
</ul>
</li>
<li><p>path属性</p>
<ul>
<li>Cookie的path属性可用于限制指定Cookie的发送范围的文件目录。不过另有办法可避开这项限制，看来对其作为安全机制的效果不能抱有期待。</li>
</ul>
</li>
<li><p>domain属性</p>
<ul>
<li>通过Cookie的domain属性指定的域名可做到与结尾匹配一致。比如，当指定xxx.com后，除xxx.com以外，www.xxx.com或www2.xxx.com等都可以发送Cookie。因此，除了针对具体指定的多个域名发送Cookie之外，不指定domain属性显得更安全。</li>
</ul>
</li>
<li><p>secure属性</p>
<ul>
<li>Cookie的secure属性用于限制Web页面仅在HTTPS安全连接时，才可以发送Cookie。<blockquote>
<p>发送Cookie时，指定secure属性的方法如下所示。<br>Set-Cookie: name=value;secure<br>以上例子仅当在<a href="https://www.xxx.com/（HTTPS）安全连接的情况下才会进行Cookie的回收。" target="_blank" rel="external">https://www.xxx.com/（HTTPS）安全连接的情况下才会进行Cookie的回收。</a><br>也就是说，即使域名相同，<a href="http://www.xxx.com/(HTTP)也不会发生Cookie的回收行为。" target="_blank" rel="external">http://www.xxx.com/(HTTP)也不会发生Cookie的回收行为。</a><br>当省略secure属性时，不论HTTP还是HTTPS，都会对Cookie进行回收。</p>
</blockquote>
</li>
</ul>
</li>
<li><p>HttpOnly属性</p>
<ul>
<li>Cookie的HttpOnly属性是Cookie的扩展功能，它使JavaScript脚本无法获取Cookie。其主要目的为防止跨站脚本攻击（XSS）对Cookie的信息窃取。<blockquote>
<p>发送指定HttpOnly属性的Cookie的方法如下所示。<br>Set-Cookie: name=value;HttpOnly<br>通过上述设置，通常从Web页面内还可以对Cookie进行读取操作。但使用JavaScript的document.cookie就  无法读取附加HttpOnly属性后的Cookie的内容了。因此，也就无法再XSS中利用JavaScript劫持Cookie了<br>该扩展并非为了防止XSS而开发的。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="7-2-Cookie"><a href="#7-2-Cookie" class="headerlink" title="7.2 Cookie"></a>7.2 Cookie</h3><blockquote>
<p>首部字段Cookie会告知服务器，当客户端想获取HTTP状态管理支持时，就会在请求中包含从服务器接收到的Cookie。接收到多个Cookie时，同样可以以多个Cookie形式发送。</p>
</blockquote>
<hr>
<h2 id="8-其他首部字段"><a href="#8-其他首部字段" class="headerlink" title="8. 其他首部字段"></a>8. 其他首部字段</h2><blockquote>
<p>HTTP首部字段是可以自行扩展的。所以在Web服务器和浏览器的应用上，会出现各种非标准的首部字段。</p>
</blockquote>
<h3 id="8-1-X-Frame-Options"><a href="#8-1-X-Frame-Options" class="headerlink" title="8.1 X-Frame-Options"></a>8.1 X-Frame-Options</h3><blockquote>
<p>首部字段X-Frame-Options属于HTTP响应首部，用于控制网站内容在其他Web网站的Frame标签内的显示问题。其主要目的是为了防止点击劫持攻击</p>
</blockquote>
<p><strong>首部字段X-Frame-Options有以下两个可指定的字段值。</strong></p>
<ul>
<li>DENY:拒绝</li>
<li>SAMEORIGIN：仅同源域名下的页面匹配时许可。</li>
</ul>
<h3 id="8-2-X-XSS-Protetion"><a href="#8-2-X-XSS-Protetion" class="headerlink" title="8.2 X-XSS-Protetion"></a>8.2 X-XSS-Protetion</h3><blockquote>
<p>首部字段X-XSS-Protetion属于HTTP响应首部，它是针对跨站脚本攻击（XSS）的一种对策，用于控制浏览器XSS防护机制的开关。</p>
</blockquote>
<p><strong>首部字段X-XSS-Protetion可指定的字段值如下。</strong></p>
<ul>
<li>0：将XSS过滤蛇者成无效状态</li>
<li>1：将XSS过滤设置成有效状态</li>
</ul>
<h3 id="8-3-DNT"><a href="#8-3-DNT" class="headerlink" title="8.3 DNT"></a>8.3 DNT</h3><blockquote>
<p>首部字段DNT属于HTTP请求首部，其中DNT是Do Not Track的简称，意为拒绝个人信息被收集，是表示拒绝被精准广告追踪的一种方法。</p>
</blockquote>
<p><strong>首部字段DNT可指定的字段值如下。</strong></p>
<ul>
<li>0：同意被追踪</li>
<li>1：拒绝被追踪</li>
</ul>
<p><strong>由于首部字段DNT的功能具备有效性，所以Web服务器需要对DNT做对应的支持。</strong></p>
<h3 id="8-4-P3P"><a href="#8-4-P3P" class="headerlink" title="8.4 P3P"></a>8.4 P3P</h3><blockquote>
<p>首部字段P3P属于HTTP相应首部，通过利用P3P（在线隐私偏好平台）技术，可以让Web网站上的个人隐私变成一种仅供程序可理解的形式，以达到保护用户隐私的目的。</p>
</blockquote>
<ul>
<li>要进行P3P的设定，需按以下操作步骤进行。</li>
<li>步骤1:创建P3P隐私</li>
<li>步骤2：创建P3P隐私对照文件后，保存命名在/w3c/p3p.html</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/HTTP协议/" rel="tag"><i class="fa fa-tag"></i> HTTP协议</a>
          
            <a href="/tags/读书笔记/" rel="tag"><i class="fa fa-tag"></i> 读书笔记</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/01/30/css笔记-bootstrap栅格系统分析/" rel="next" title="css笔记-bootstrap栅格系统分析">
                <i class="fa fa-chevron-left"></i> css笔记-bootstrap栅格系统分析
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/01/10/图解HTTP读书笔记五/" rel="prev" title="图解HTTP读书笔记五">
                图解HTTP读书笔记五 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
      
      <style type="text/css">
        .wildfire_thread a {border-bottom: none}
      </style>
      <div class="wildfire_thread"></div>
      <script>
        var wildfireConfig = () => ({
            databaseProvider : 'wilddog',
            defaultAvatarURL : 'https://image.flaticon.com/icons/svg/621/621863.svg',
            databaseConfig : {
                              "rules": {
                                "users": {
                                  "$uid": {
                                    "isAdmin": {
                                      ".write": false
                                    },
                                    ".write": "auth.uid === $uid || root.child('users/'+auth.uid+'/isAdmin').val() === true"
                                  },
                                  ".read": true,
                                  ".indexOn": ["email"]
                                },
                                "pages": {
                                  ".write": true,
                                  ".read": true
                                },
                                "comments": {
                                  "$commentId": {
                                    ".write": "!data.exists() || root.child('users/'+auth.uid+'/isAdmin').val() === true || ((data.child('rootCommentUid').val() === auth.uid || data.child('uid').val() === auth.uid) && !newData.exists())"
                                  },
                                  ".read": true,
                                  ".indexOn": ["rootCommentId", "pageURL"]
                                },
                                "votes": {
                                  ".write": true,
                                  ".read": true
                                },
                                "commentReplies": {
                                  ".write": true,
                                  ".read": true
                                },
                                "notifications": {
                                  "$notifId": {
                                    ".write": "!data.exists() || root.child('users/'+auth.uid+'/isAdmin').val() === true || data.child('uid').val() === auth.uid"
                                  },
                                  ".read": true,
                                  ".indexOn": "uid"
                                },
                                "reported": {
                                  "$commentId": {
                                    "$uid": {
                                      ".write": "root.child('users/'+auth.uid+'/isAdmin').val() === true || (!data.exists() && $uid === auth.uid)",
                                      ".read": "root.child('users/'+auth.uid+'/isAdmin').val() === true || $uid === auth.uid"
                                    },
                                    ".write": "root.child('users/'+auth.uid+'/isAdmin').val() === true"
                                  },
                                  ".read": "root.child('users/'+auth.uid+'/isAdmin').val() === true"
                                },
                                "ban": {
                                  ".write": "root.child('users/'+auth.uid+'/isAdmin').val() === true",
                                  ".read": true
                                },
                                ".write": "root.child('users/'+auth.uid+'/isAdmin').val() === true",
                                ".read": false
                              }
                            },
            locale: 'zh-CN'
        })
      </script>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/my.png"
                alt="墨月" />
            
              <p class="site-author-name" itemprop="name">墨月</p>
              <p class="site-description motion-element" itemprop="description">满含热情的热爱前端</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/x851285009" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.zhihu.com/people/yueshangui/activities" target="_blank" title="知乎">
                    
                      <i class="fa fa-fw fa-send"></i>知乎</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.jianshu.com/u/c673eb4784e6" target="_blank" title="简书">
                    
                      <i class="fa fa-fw fa-commenting"></i>简书</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#图解HTTP协议读书笔记六-HTTP首部"><span class="nav-number">1.</span> <span class="nav-text">图解HTTP协议读书笔记六-HTTP首部</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-HTTP报文首部"><span class="nav-number">1.1.</span> <span class="nav-text">1. HTTP报文首部</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-HTTP首部字段"><span class="nav-number">1.2.</span> <span class="nav-text">2. HTTP首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-HTTP首部字段传递重要信息"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 HTTP首部字段传递重要信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-HTTP首部字段结构"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.2 HTTP首部字段结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-4种HTTP首部字段类型"><span class="nav-number">1.2.3.</span> <span class="nav-text">2.3 4种HTTP首部字段类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-HTTP-1-1首部字段一览"><span class="nav-number">1.2.4.</span> <span class="nav-text">2.4 HTTP/1.1首部字段一览</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-非HTTP-1-1-首部字段"><span class="nav-number">1.2.5.</span> <span class="nav-text">2.5 非HTTP/1.1 首部字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-6-End-to-end-首部和Hop-by-hop-首部"><span class="nav-number">1.2.6.</span> <span class="nav-text">2.6 End-to-end 首部和Hop-by-hop 首部</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-HTTP-1-1通用首部字段"><span class="nav-number">1.3.</span> <span class="nav-text">3. HTTP/1.1通用首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-Cache-Control"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 Cache-Control</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Connection"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 Connection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-Date"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 Date</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-Pragma"><span class="nav-number">1.3.4.</span> <span class="nav-text">3.4 Pragma</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-Trailer"><span class="nav-number">1.3.5.</span> <span class="nav-text">3.5 Trailer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-Transfer-Encoding"><span class="nav-number">1.3.6.</span> <span class="nav-text">3.6 Transfer-Encoding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-7-Upgrade"><span class="nav-number">1.3.7.</span> <span class="nav-text">3.7 Upgrade</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-8-Via"><span class="nav-number">1.3.8.</span> <span class="nav-text">3.8 Via</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-9-Warning"><span class="nav-number">1.3.9.</span> <span class="nav-text">3.9 Warning</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-请求首部字段"><span class="nav-number">1.4.</span> <span class="nav-text">4. 请求首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-Accept"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 Accept</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-Accept-Charset"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 Accept-Charset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-Accept-Encoding"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 Accept-Encoding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-Accept-Language"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 Accept-Language</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5-Authorization"><span class="nav-number">1.4.5.</span> <span class="nav-text">4.5 Authorization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-6-Expect"><span class="nav-number">1.4.6.</span> <span class="nav-text">4.6 Expect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-7-From"><span class="nav-number">1.4.7.</span> <span class="nav-text">4.7 From</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-8-Host"><span class="nav-number">1.4.8.</span> <span class="nav-text">4.8 Host</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-9-IF-XXX"><span class="nav-number">1.4.9.</span> <span class="nav-text">4.9 IF-XXX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-10-Max-Forwards"><span class="nav-number">1.4.10.</span> <span class="nav-text">4.10 Max-Forwards</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-11-Proxy-Authorzation"><span class="nav-number">1.4.11.</span> <span class="nav-text">4.11 Proxy-Authorzation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-12-Range"><span class="nav-number">1.4.12.</span> <span class="nav-text">4.12 Range</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-13-Referer"><span class="nav-number">1.4.13.</span> <span class="nav-text">4.13 Referer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-14-TE"><span class="nav-number">1.4.14.</span> <span class="nav-text">4.14 TE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-15-User-Agent"><span class="nav-number">1.4.15.</span> <span class="nav-text">4.15 User-Agent</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-响应首部字段"><span class="nav-number">1.5.</span> <span class="nav-text">5. 响应首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-Accept-Ranges"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1  Accept-Ranges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-Age"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 Age</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-ETag"><span class="nav-number">1.5.3.</span> <span class="nav-text">5.3 ETag</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-Location"><span class="nav-number">1.5.4.</span> <span class="nav-text">5.4 Location</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-Proxy-Authenticate"><span class="nav-number">1.5.5.</span> <span class="nav-text">5.5 Proxy-Authenticate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6-Retry-After"><span class="nav-number">1.5.6.</span> <span class="nav-text">5.6 Retry-After</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-7-Server"><span class="nav-number">1.5.7.</span> <span class="nav-text">5.7 Server</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-8-Vary"><span class="nav-number">1.5.8.</span> <span class="nav-text">5.8 Vary</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-9-WWW-Authenticate"><span class="nav-number">1.5.9.</span> <span class="nav-text">5.9 WWW-Authenticate</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-实体首部字段"><span class="nav-number">1.6.</span> <span class="nav-text">6. 实体首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6-1-Allow"><span class="nav-number">1.6.1.</span> <span class="nav-text">6.1 Allow</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-2-Content-Encoding"><span class="nav-number">1.6.2.</span> <span class="nav-text">6.2 Content-Encoding</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-3-Content-Language"><span class="nav-number">1.6.3.</span> <span class="nav-text">6.3 Content-Language</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-4-Content-Length"><span class="nav-number">1.6.4.</span> <span class="nav-text">6.4 Content-Length</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-5-Content-Location"><span class="nav-number">1.6.5.</span> <span class="nav-text">6.5 Content-Location</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-6-Content-MD5"><span class="nav-number">1.6.6.</span> <span class="nav-text">6.6 Content-MD5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-7-Content-Range"><span class="nav-number">1.6.7.</span> <span class="nav-text">6.7 Content-Range</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-8-Content-Type"><span class="nav-number">1.6.8.</span> <span class="nav-text">6.8 Content-Type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-9-Expires"><span class="nav-number">1.6.9.</span> <span class="nav-text">6.9 Expires</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-10-Last-Modified"><span class="nav-number">1.6.10.</span> <span class="nav-text">6.10 Last-Modified</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-为Cookie服务的首部字段"><span class="nav-number">1.7.</span> <span class="nav-text">7. 为Cookie服务的首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-Set-Cookie"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 Set-Cookie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-Cookie"><span class="nav-number">1.7.2.</span> <span class="nav-text">7.2 Cookie</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-其他首部字段"><span class="nav-number">1.8.</span> <span class="nav-text">8. 其他首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-X-Frame-Options"><span class="nav-number">1.8.1.</span> <span class="nav-text">8.1 X-Frame-Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-X-XSS-Protetion"><span class="nav-number">1.8.2.</span> <span class="nav-text">8.2 X-XSS-Protetion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-DNT"><span class="nav-number">1.8.3.</span> <span class="nav-text">8.3 DNT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-4-P3P"><span class="nav-number">1.8.4.</span> <span class="nav-text">8.4 P3P</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">墨月</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.3</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user">本站访客数</i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye">本站总访问量</i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  









  <script type="text/javascript">
      var wildfireConfig = () => ({
        databaseProvider: 'wilddog',
        databaseConfig: {
        
          siteId: 'wd6555249862lxthcm'
        
        },
        theme: 'light',
        locale: 'zh-CN'
      })
  </script>
  <script type="text/javascript" src='//unpkg.com/wildfire/dist/wildfire.auto.js'></script>


  





  

  

  

  

  

  

  <script>
  'use strict';
   var _createClass = function () { 
        function defineProperties(target, props) { 
           for (var i = 0; i < props.length; i++) { 
               var descriptor = props[i]; 
               descriptor.enumerable = descriptor.enumerable || false; 
               descriptor.configurable = true; 
               if ("value" in descriptor) descriptor.writable = true; 
               Object.defineProperty(target, descriptor.key, descriptor); 
               } 
            } 
            return function (Constructor, protoProps, staticProps) { 
                if (protoProps) defineProperties(Constructor.prototype, protoProps); 
                if (staticProps) defineProperties(Constructor, staticProps); return Constructor; 
                }; 
            }();
        function _possibleConstructorReturn(self, call) { 
            if (!self) { 
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    } 
                    return call && (typeof call === "object" || typeof call === "function") ? call : self;
                }
        function _inherits(subClass, superClass) { 
            if (typeof superClass !== "function" && superClass !== null) { 
                throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); 
                } 
                subClass.prototype = Object.create(superClass && superClass.prototype, { 
                    constructor: { value: subClass, enumerable: false, writable: true, configurable: true 
                    } 
                    }); 
                    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; 
                }
        function _classCallCheck(instance, Constructor) { 
            if (!(instance instanceof Constructor)) 
            { 
                throw new TypeError("Cannot call a class as a function"); 
                } 
            }
   var Circle = function () {
      function Circle(x, y) {
           _classCallCheck(this, Circle);
           this.x = x;
           this.y = y;
           this.r = Math.random() * 10;
           this._mx = Math.random();
           this._my = Math.random();
       }
      _createClass(Circle, [{
           key: 'drawCircle',
           value: function drawCircle(ctx) {
               ctx.beginPath();
               //arc() 方法使用一个中心点和半径，为一个画布的当前子路径添加一条弧。
               ctx.arc(this.x, this.y, this.r, 0, 360);
               ctx.closePath();
               ctx.fillStyle = 'rgba(204, 204, 204, 0.3)';
               ctx.fill();
           }
       }, {
           key: 'drawLine',
           value: function drawLine(ctx, _circle) {
               var dx = this.x - _circle.x;
               var dy = this.y - _circle.y;
               var d = Math.sqrt(dx * dx + dy * dy);
               if (d < 150) {
                   ctx.beginPath();
                   ctx.moveTo(this.x, this.y); //起始点
                   ctx.lineTo(_circle.x, _circle.y); //终点
                   ctx.closePath();
                   ctx.strokeStyle = 'rgba(204, 204, 204, 0.3)';
                   ctx.stroke();
               }
           }
       }, {
           key: 'move',
           value: function move(w, h) {
               this._mx = this.x < w && this.x > 0 ? this._mx : -this._mx;
               this._my = this.y < h && this.y > 0 ? this._my : -this._my;
               this.x += this._mx / 2;
               this.y += this._my / 2;
           }
       }]);
       return Circle;
   }();
   var currentCirle = function (_Circle) {
       _inherits(currentCirle, _Circle);
       function currentCirle(x, y) {
           _classCallCheck(this, currentCirle);
           return _possibleConstructorReturn(this, (currentCirle.__proto__ || Object.getPrototypeOf(currentCirle)).call(this, x, y));
       }
       _createClass(currentCirle, [{
           key: 'drawCircle',
           value: function drawCircle(ctx) {
               ctx.beginPath();
               //this.r = (this.r < 14 && this.r > 1) ? this.r + (Math.random() * 2 - 1) : 2;
               this.r = 8;
               ctx.arc(this.x, this.y, this.r, 0, 360);
               ctx.closePath();
               //ctx.fillStyle = 'rgba(0,0,0,' + (parseInt(Math.random() * 100) / 100) + ')'
               ctx.fillStyle = 'rgba(204, 204, 204, 0.6)';
               ctx.fill();
           }
       }]);
       return currentCirle;
   }(Circle);
   window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
   var canvas = document.getElementById('canvas');
   var ctx = canvas.getContext('2d');
   var w = canvas.width = canvas.offsetWidth;
   var h = canvas.height = canvas.offsetHeight;
   var circles = [];
   var current_circle = new currentCirle(0, 0);
   var draw = function draw() {
       ctx.clearRect(0, 0, w, h);
       for (var i = 0; i < circles.length; i++) {
           circles[i].move(w, h);
           circles[i].drawCircle(ctx);
           for (var j = i + 1; j < circles.length; j++) {
               circles[i].drawLine(ctx, circles[j]);
           }
       }
       if (current_circle.x) {
           current_circle.drawCircle(ctx);
           for (var k = 1; k < circles.length; k++) {
               current_circle.drawLine(ctx, circles[k]);
           }
       }
       requestAnimationFrame(draw);
   };
   var init = function init(num) {
       for (var i = 0; i < num; i++) {
           circles.push(new Circle(Math.random() * w, Math.random() * h));
       }
       draw();
   };
   window.addEventListener('load', init(60));
   window.onmousemove = function (e) {
       e = e || window.event;
       current_circle.x = e.clientX;
       current_circle.y = e.clientY;
   };
   window.onmouseout = function () {
       current_circle.x = null;
       current_circle.y = null;
   };
  </script>
</body>
</html>
